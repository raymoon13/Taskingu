---
import Welcome from "../components/Welcome.astro";
import Layout from "../layouts/Layout.astro";
import { actions } from "astro:actions";

const result = Astro.getActionResult(actions.testing);

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<form action={actions.testing} method="post">
		<label for="message">Message</label>
		<input type="text" name="message" id="message" required />
		<button type="submit">Test Action</button>
	</form>

	{result && !result.error && <p class="success">Thanks for testing!</p>}
	{result?.error && <p class="error">{result.error.message} {result.error.type}</p>}
	
</Layout>
